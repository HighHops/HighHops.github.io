window['__jsonp_ym_combine_(p;f(h(k(b(d(f(g*J*I(a*Z@p;,;I;J;q;;;@;:;d(o;l(n(l(c;m(e;k;o;g;h;p;n(m;V;e;3!K;v@v!G!H:j@g'](
[
['(p', function (ym) {
ym.modules.define({name:"theme.islands.traffic.layout.Control",key:"islands#trafficControlLayout",storage:"layout",depends:["templateLayoutFactory","traffic.layout.html","Monitor","data.Manager","option.Manager","util.dom.className","util.dom.element","shape.Rectangle","geometry.pixel.Rectangle","layout.component.clientBounds","control.component.setupMarginManager","system.browser","util.css","util.array","theme.islands.traffic.layout.control.Button","theme.islands.traffic.layout.control.Popup","theme.islands.traffic.layout.control.ArchiveButtonTitle","theme.islands.traffic.layout.control.ArchivePopupSlider","theme.islands.traffic.layout.control.ArchivePopupHint","theme.islands.traffic.layout.control.ArchivePopupWeekDays","theme.islands.traffic.layout.control.ActualButtonTitle","theme.islands.traffic.layout.control.ActualPopupServicesList","theme.islands.traffic.layout.control.ActualPopupEventsCheckbox","theme.islands.traffic.layout.control.DetailedLink"],declaration:function(t,e,a,i,n,r,s,o,l,c,d,h,f,u,p){var _="AndroidBrowser"!=f.name,m=["small","medium","large"],g=e.createClass(a,{init:function(){this.setData({state:new n,controlState:this.getData().state,control:this.getData().control,options:new r}),g.superclass.init.call(this)},build:function(){this._applyProvider(),g.superclass.build.call(this),this._trafficElement=o.findByPrefixedClass(this.getParentElement(),"traffic"),this._stateListener=new i(this.getData().controlState).add(["providerKey"],this._applyProvider,this).add(["expanded","size"],function(){this._checkExpanded()},this).add(["trafficShown"],function(){this._applyProvider(),this._checkExpanded()},this),this._expanded=!0,this._checkExpanded(!0),this._setupMapListener(),h.add(this,this._getScreenAreaCallback,this)},clear:function(){this._clearMapListener(),this._stateListener.destroy(),h.remove(this),g.superclass.clear.call(this),this._clearProvider()},getShape:function(){return this.getElement()?new l(new c(d(this.getElement()))):null},_applyProvider:function(){var t=this.getData().state,e=this.getData().controlState;e.get("trafficShown")?this._shown?(t.set("previousProviderKey",this._currentProviderKey),this._currentProviderKey=e.get("providerKey")):(this._shown=!0,this._currentProviderKey=e.get("providerKey")):(this._shown=!1,this._currentProviderKey=null);var a=null;this._currentProviderKey&&(a=this.getData().control.getProvider(this._currentProviderKey)),this.getData().options.setParent(a?a.options:null)},_clearProvider:function(){this.getData().options.setParent(null),this._currentProviderKey=null},_checkExpanded:function(t){var e=this.getData().controlState,a=e.get("trafficShown",!1),i=e.get("expanded",!1)&&a&&"small"!=e.get("size","large");if(i!=this._expanded){var n=o.findByPrefixedClass(this.getParentElement(),"traffic__panel");i?(_&&s.remove(n,u.addPrefix("traffic__panel-hide-animation")),s.add(this._trafficElement,u.addPrefix("traffic_settings_pressed")),_&&s.add(n,u.addPrefix("traffic__panel-show-animation"))):(_&&(s.remove(n,u.addPrefix("traffic__panel-show-animation")),!t&&a&&s.add(n,u.addPrefix("traffic__panel-hide-animation"))),s.remove(this._trafficElement,u.addPrefix("traffic_settings_pressed"))),this._expanded=i}},_setupMapListener:function(){_&&(this._mapListeners=this.getData().control.getMap().container.events.group().add(["fullscreenenter","fullscreenexit"],this._removeAnimationClass,this).add("sizechange",this._onMapSizeChange,this))},_clearMapListener:function(){_&&this._mapListeners.removeAll()},_onMapSizeChange:function(t){var e=t.get("newSize");0==e[0]&&0==e[1]&&this._removeAnimationClass()},_removeAnimationClass:function(){var t=o.findByPrefixedClass(this.getParentElement(),"traffic__panel");this._expanded||s.remove(t,u.addPrefix("traffic__panel-hide-animation"))},_getScreenAreaCallback:function(){var t=this.getData().control.options.get("maxWidth"),e=this.getData().control.state.get("size"),a=p.indexOf(m,e);return[t[a],28]}});t(g)}});}],
[';f', function (ym) {
ym.modules.define('traffic.layout.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic ymaps-2-1-74-traffic_settings_pressed\">",2002,["traffic#controlButtonLayout",[]],2002,["traffic#controlPopupLayout",[]],0,"</ymaps>"]);
});}],
['(h', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.Button",["templateLayoutFactory","traffic.layout.button.html","util.dom.style","util.dom.className","util.dom.element","util.dom.reaction.hold","util.math.areEqual","layout.storage","theme.islands.traffic.layout.control.SettingsButton","Monitor","domEvent.manager","event.Mapper","layout.SubLayoutEventMappingTable","util.nodeSize","util.css","yandex.counter"],function(t,e,n,i,o,a,s,c,h,r,u,l,d,_,f,m,y){var S={buttonLeft:"float-button_traffic_left",buttonPinLeftState:"_pin_left",buttonCheckedState:"_checked",buttonIcon:"float-button-icon",buttonText:"float-button-text",trafficIconMod:"traffic__icon_icon_",buttonAnimation:"button_traffic_left_animation",buttonTextIsHidden:"_hidden-text"},b=e.createClass("{% if !controlState.trafficShown || !options.buttonTitleLayout %}{{localization.Traffic.jams}}{% else %}{% include options.buttonTitleLayout %}{% endif %}"),g=e.createClass('{% if controlState.trafficShown && controlState.size != "small" %}{% include traffic#controlSettingsButtonLayout %}{% endif %}'),p=e.createClass(n,{build:function(){p.superclass.build.call(this);var t=this.getParentElement();i.patch(t,{selectable:!1}),this._buttonElement=a.findByPrefixedClass(t,S.buttonLeft),this._buttonIconElement=a.findByPrefixedClass(this._buttonElement,S.buttonIcon),this._createButtonContentLayout(),this._createSettingsButtonLayout(),this._buttonAppearance="iconWithText",this._checkButtonAppearance(),this._iconStyle="off",this._checkIconStyle(),this._selected=!1,this._checkSelected(),this._controlStateMonitor=new u(this.getData().controlState).add("size",this._checkButtonAppearance,this).add("trafficShown",this._onTrafficShownChange,this).add("providerKey",this._onProviderKeyChange,this),this._createProviderStateMonitor(),this._setupEvents()},clear:function(){this._clearWidthTimeout(),this._clearButtonContentLayout(),this._clearSettingsButtonLayout(),this._clearEvents(),this._clearProviderStateMonitor(),this._controlStateMonitor.destroy(),this._providerStateMonitor.destroy(),p.superclass.clear.call(this)},_onProviderKeyChange:function(){this._clearProviderStateMonitor(),this._createProviderStateMonitor()},_createProviderStateMonitor:function(){this._providerStateMonitor=new u(this.getData().control.getProvider().state).add("iconStyle",this._checkIconStyle,this)},_clearProviderStateMonitor:function(){this._providerStateMonitor.destroy()},_setupEvents:function(){l.add(this._buttonElement,"click",this._onButtonClick,this),this.getData().control.getMap().container.events.once("sizechange",function(t){c(t.get("oldSize"),[0,0])&&this._updateWidth()},this)},_checkIconStyle:function(){var t,e=this.getData().control,n=e.state.get("trafficShown");t=n?this.getData().control.getProvider().state.get("iconStyle")||"off":"off",t!=this._iconStyle&&(o.remove(this._buttonIconElement,m.addPrefix(S.trafficIconMod)+this._iconStyle),o.add(this._buttonIconElement,m.addPrefix(S.trafficIconMod)+t),this._iconStyle=t)},_clearEvents:function(){l.remove(this._buttonElement,"click",this._onButtonClick,this)},_applyAppearance:function(t){"iconOnly"==t&&(o.add(this._buttonElement,m.addPrefix(S.buttonTextIsHidden)),this._removeWidth())},_clearAppearance:function(t){"iconOnly"==t&&o.remove(this._buttonElement,m.addPrefix(S.buttonTextIsHidden))},_onButtonClick:function(){this.getData().controlState.get("trafficShown")?(this.events.fire("hidetraffic"),this.events.fire("deselect")):(this.events.fire("select"),this.events.fire("showtraffic"))},_checkButtonAppearance:function(){var t="small"==this.getData().controlState.get("size")?"iconOnly":"iconWithText";t!=this._buttonAppearance&&(this._clearAppearance(this._buttonAppearance),this._buttonAppearance=t,this._applyAppearance(t),this._updateWidth(),this._checkLeftSide())},_onTrafficShownChange:function(){this._checkSelected(),this._checkIconStyle(),this._checkLeftSide()},_checkSelected:function(){var t=this.getData().controlState.get("trafficShown");t!=this._selected&&(t?(o.add(this._buttonElement,m.addPrefix(S.buttonCheckedState)),o.add(this._buttonElement,m.addPrefix(S.buttonAnimation)),this._updateWidth()):(o.remove(this._buttonElement,m.addPrefix(S.buttonAnimation)),o.remove(this._buttonElement,m.addPrefix(S.buttonCheckedState)),this._removeWidth()),this._checkLeftSide(),this._selected=t)},_onTitleSizeChange:function(t){t.stopPropagation(),this._updateWidth()},_checkLeftSide:function(){var t=this.getData().controlState,e=t.get("trafficShown")&&"small"!=t.get("size","large");this._isLeft!=e&&(e?o.add(this._buttonElement,m.addPrefix(S.buttonPinLeftState)):o.remove(this._buttonElement,m.addPrefix(S.buttonPinLeftState)),this._isLeft=e)},_updateWidth:function(){var t="small"==this.getData().controlState.get("size");if(!t){var e=f.computeByContent(this._buttonElement).width+1,n=function(){e!=this._width&&(i.css(this._buttonElement,{width:e+"px"}),this._width=e)};this._clearWidthTimeout(),this._lastWidthTimeout=window.setTimeout(n.bind(this),0)}},_removeWidth:function(){this._clearWidthTimeout(),i.css(this._buttonElement,{width:void 0})},_clearWidthTimeout:function(){this._lastWidthTimeout&&(window.clearTimeout(this._lastWidthTimeout),this._lastWidthTimeout=null)},_createButtonContentLayout:function(){var t=(this._buttonElement,a.findByPrefixedClass(this.getParentElement(),S.buttonText));this._buttonContentLayout=new b(this.getData()),this._buttonContentLayout.events.setParent(new d(this.events,new _(this))),this._buttonContentLayout.setParentElement(t),this._buttonContentLayout.events.add("sizechange",this._onTitleSizeChange,this),this._updateWidth()},_clearButtonContentLayout:function(){this._buttonContentLayout.events.remove("sizechange",this._onTitleSizeChange,this),this._buttonContentLayout.events.setParent(null),this._buttonContentLayout.setParentElement(null),this._buttonContentLayout.destroy()},_createSettingsButtonLayout:function(){this._settingsButtonLayout=new g(this.getData()),this._settingsButtonLayout.events.setParent(new d(this.events,new _(this))),this._settingsButtonLayout.setParentElement(this.getParentElement())},_clearSettingsButtonLayout:function(){this._settingsButtonLayout.events.setParent(null),this._settingsButtonLayout.setParentElement(null),this._settingsButtonLayout.destroy()}});h.add("traffic#controlButtonLayout",p),t(p)});}],
['(k', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.Popup",["templateLayoutFactory","layout.storage","traffic.layout.settings.html","theme.islands.traffic.layout.control.Switcher","util.dom.element","util.dom.style","Monitor","theme.islands.traffic.control.ActualPopupContentComponent","theme.islands.traffic.control.ArchivePopupContentComponent"],function(t,e,i,n,o,a,l,s,r,h){var p=e.createClass(n,{build:function(){p.superclass.build.call(this),this._trafficPanelElement=a.findByPrefixedClass(this.getParentElement(),"traffic__panel-content"),this._panelElement=a.findByPrefixedClass(this.getParentElement(),"traffic__panel"),l.patch(this._panelElement,{selectable:!1});var t={parentNode:this._trafficPanelElement};this._weekDaysElement=a.create(t),this._archiveSliderElement=a.create(t),this._footerElement=a.create(t),this._applyPopupWidth(),this._optionMonitor=new s(this.getData().options).add("popupWidth",this._applyPopupWidth,this),this._actualComponent=new r(this,this._footerElement),this._archiveComponent=new h(this,this._archiveSliderElement,this._weekDaysElement,this._footerElement)},clear:function(){this._actualComponent.destroy(),this._archiveComponent.destroy(),this._optionMonitor.destroy(),p.superclass.clear.call(this)},_applyPopupWidth:function(){l.css(this._panelElement,{width:this.getData().options.get("popupWidth","270px")})}});i.add("traffic#controlPopupLayout",p),t(p)});}],
['(b', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.ArchiveButtonTitle",["templateLayoutFactory","layout.storage","Monitor","localization.common.current","traffic.weekDays","formatter"],function(t,e,i,n,o,a,s){function r(t){return"on"+t.slice(0,1).toUpperCase()+t.slice(1)}function c(t){return t<10?"0"+t.toString():t}var l=e.createClass("{{localization.Traffic.jams}}",{build:function(){l.superclass.build.call(this),this._providerStateMonitor=new n(this.getData().control.getProvider().state).add(["isInited","level","timestamp","timeZone","dst"],this._checkState,this),this._checkState()},clear:function(){this._clearContentTimeout(),this._providerStateMonitor.destroy(),l.superclass.clear.call(this)},_checkState:function(){var t="";if(this._providerStateMonitor.get("isInited")){var e=this._providerStateMonitor.get("level"),i=this.getData().control.getProvider().getTime();t=null!=e?s.numeral(e,o.Traffic.points):o.Traffic.jams,i&&(t+=" "+o.DaysOfWeek[r(i.dayOfWeek)],t+=", "+c(i.hours)+":"+c(i.minutes))}else t=o.Traffic.jams;this._updateContent(t)},_updateContent:function(t){function e(){this.getElement().innerHTML=t,""!=t&&this.events.fire("sizechange")}this._content!=t&&(this._content=t,this._clearContentTimeout(),this._lastContentTimeout=window.setTimeout(e.bind(this),100))},_clearContentTimeout:function(){this._lastContentTimeout&&(window.clearTimeout(this._lastContentTimeout),this._lastContentTimeout=null)}});i.add("traffic#controlArchiveButtonTitleLayout",l),t(l)});}],
['(d', function (ym) {
var SLIDER_WIDTH=202,SLIDER_OFFSET=24;ym.modules.define("theme.islands.traffic.layout.control.ArchivePopupSlider",["templateLayoutFactory","layout.storage","traffic.layout.settings.slider.html","util.Dragger","util.dom.element","util.dom.style","util.dom.className","Monitor","domEvent.manager","data.Manager","util.css","util.cancelableCallback","theme.islands.traffic.layout.control.ArchiveSliderButtonContent"],function(t,e,i,s,r,n,l,o,a,u,d,c,h,_){function f(t,e){return t==e||!(!t||!e||t.minutes!=e.minutes||t.hours!=e.hours)}var g={sliderButton:"traffic__slider-button",sliderTrack:"traffic__slider-track",buttonIsPressed:c.addPrefix("_pressed")},m=e.createClass(s,{build:function(){m.superclass.build.call(this),this._setupLabels(),this._sliderButton=n.findByPrefixedClass(this.getElement(),g.sliderButton),this._sliderTrackElement=n.findByPrefixedClass(this.getElement(),g.sliderTrack),this._provider=this.getData().control.getProvider("traffic#archive"),this._createSliderButtonTextLayout(),u.add(this._sliderTrackElement,"click",this._onSliderTrackClick,this),this._setupSliderButtonPressEvents(),this._setupDragger(),this._checkTime(),this._providerStateMonitor=new a(this.getData().control.getProvider().state).add(["timeZone","timestamp","dst"],this._checkTime,this),this._setupFullscreenListener()},clear:function(){this._clearFullscreenListener(),this._sliderTrackOffset=null,this._clearSliderButtonTextLayout(),u.remove(this._sliderTrackElement,"click",this._onSliderTrackClick,this),this._providerStateMonitor.destroy(),this._clearDragger(),this._sliderButtonPressListener.removeAll(),this._currentTimeOffset=null,m.superclass.clear.call(this)},_setupSliderButtonPressEvents:function(){this._sliderButtonPressListener=u.group(this._sliderButton).add("mousedown",this._onSliderButtonMousedown,this).add("mouseup",this._onSliderButtonMouseup,this)},_checkTime:function(){if(!this._dragger.isDragging()){var t=this.getData().control.getProvider(),e="function"==typeof t.getTime?t.getTime():null;null!=e&&(f(this._currentTime,e)||(this._applyProviderTime(e),this._setSliderPosition(e)))}},_applyProviderTime:function(t){this.getData().control.getProvider().setTime(t)},_getTime:function(t){var e=1425*t/SLIDER_WIDTH,i=Math.floor(e/60),s=e-60*i;15*Math.round(s/15);return(i>23||i>22&&s>45)&&(i=23,s=45),{hours:i,minutes:s}},_setSliderPosition:function(t){var e=60*t.hours+t.minutes,i=SLIDER_WIDTH*e/1425;l.css(this._sliderButton,{left:i+"px"}),this._updateDeltaX(i)},_applyNewSliderPosition:function(t){this._sliderTrackOffset||(this._sliderTrackOffset=l.getOffset(this._sliderTrackElement,!0));var e=t.get("position")[0]-(this._sliderTrackOffset[0]+SLIDER_OFFSET);l.value(this._sliderButton,"left");e=Math.min(e,SLIDER_WIDTH),e=Math.max(e,0),l.css(this._sliderButton,{left:e+"px"}),this._updateDeltaX(e),this._deltaX=e,this._applyProviderTimeCallback||(this._applyProviderTimeCallback=h.create(function(){this._applyProviderTimeCallback=null;var t=this._getTime(this._deltaX);this._applyProviderTime(t),this._dragger.isDragging()||this._checkTime()},this),window.setTimeout(this._applyProviderTimeCallback,200))},_onSliderTrackClick:function(t){this._applyNewSliderPosition(t)},_updateDeltaX:function(t){this._buttonTextLayout&&this._buttonTextLayout.getData().state.set("sliderDeltaX",t)},_setupFullscreenListener:function(){this._fullscreenListener=this.getData().control.getMap().container.events.group().add(["fullscreenenter","fullscreenexit"],this._onFullscreenChange,this)},_clearFullscreenListener:function(){this._fullscreenListener.removeAll()},_onFullscreenChange:function(){this._sliderTrackOffset=null},_setupLabels:function(){var t=n.findByPrefixedClass(this.getElement(),"traffic__slider-label_type_left"),e=n.findByPrefixedClass(this.getElement(),"traffic__slider-label_type_right");t.innerHTML="00:00",e.innerHTML="23:59"},_setupDragger:function(){this._dragger=new r({autoStartElement:this._sliderButton}),this._draggerListener=this._dragger.events.group().add("move",this._onDragMove,this).add("stop",this._onDragStop,this)},_clearDragger:function(){this._draggerListener.removeAll(),this._dragger.destroy()},_onDragMove:function(t){this._applyNewSliderPosition(t)},_onDragStop:function(t){this._applyProviderTimeCallback||this._checkTime(),o.remove(this._sliderButton,g.buttonIsPressed)},_createSliderButtonTextLayout:function(){var t=n.findByPrefixedClass(this.getElement(),"button__text");this._buttonTextLayout=new _({state:new d,control:this.getData().control,options:this.getData().options}),this._buttonTextLayout.setParentElement(t)},_clearSliderButtonTextLayout:function(){this._buttonTextLayout.setParentElement(null),this._buttonTextLayout.destroy()},_onSliderButtonMousedown:function(){o.add(this._sliderButton,g.buttonIsPressed)},_onSliderButtonMouseup:function(){o.remove(this._sliderButton,g.buttonIsPressed)}});i.add("traffic#controlArchivePopupSliderLayout",m),t(m)});}],
['(f', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.ArchivePopupHint",["templateLayoutFactory","layout.storage","traffic.layout.settings.hint.html","domEvent.manager","util.dom.element"],function(t,e,l,i,s,o){var c=e.createClass(i,{build:function(){c.superclass.build.call(this),this._closeElement=o.findByPrefixedClass(this.getParentElement(),"traffic__hint-close"),this._closeElement&&s.add(this._closeElement,"click",this._onCloseClick,this)},clear:function(){this._closeElement&&s.remove(this._closeElement,"click",this._onCloseClick,this),c.superclass.clear.call(this)},_onCloseClick:function(){this.getData().state.set("popupHintClosed",!0)}});l.add("traffic#controlArchivePopupHintLayout",c),t(c)});}],
['(g', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.ArchivePopupWeekDays",["templateLayoutFactory","layout.storage","traffic.layout.settings.tabs.html","util.dom.element","util.dom.className","Monitor","domEvent.manager","localization.common.current","traffic.weekDays","util.css"],function(e,t,a,r,s,i,o,c,n,l,f){function p(e){if(e instanceof Array)for(var t=0,a=e.length;t<a;t++){var r=e[t];"string"==typeof r&&(e[t]=r.replace("%mon",n.DaysOfWeek.mon.toUpperCase()).replace("%tue",n.DaysOfWeek.tue.toUpperCase()).replace("%wed",n.DaysOfWeek.wed.toUpperCase()).replace("%thu",n.DaysOfWeek.thu.toUpperCase()).replace("%fri",n.DaysOfWeek.fri.toUpperCase()).replace("%sat",n.DaysOfWeek.sat.toUpperCase()).replace("%sun",n.DaysOfWeek.sun.toUpperCase()))}else e=e.replace("%mon",n.DaysOfWeek.mon.toUpperCase()).replace("%tue",n.DaysOfWeek.tue.toUpperCase()).replace("%wed",n.DaysOfWeek.wed.toUpperCase()).replace("%thu",n.DaysOfWeek.thu.toUpperCase()).replace("%fri",n.DaysOfWeek.fri.toUpperCase()).replace("%sat",n.DaysOfWeek.sat.toUpperCase()).replace("%sun",n.DaysOfWeek.sun.toUpperCase());return e}var y=t.createClass(p(r),{build:function(){y.superclass.build.call(this),this._weekDays=s.findByPrefixedClass(this.getParentElement(),"traffic__tab",!0),this._checkDay(),this._providerStateMonitor=new o(this.getData().control.getProvider().state).add(["timeZone","dst","timestamp"],this._checkDay,this),this._weekDayListeners=[];for(var e=0,t=this._weekDays.length;e<t;e++)this._weekDayListeners[e]=c.group(this._weekDays[e]).add("click",this._createTabClickHandler(e),this)},clear:function(){for(var e=0,t=this._weekDayListeners.length;e<t;e++)this._weekDayListeners[e].removeAll();this._providerStateMonitor.destroy(),y.superclass.clear.call(this)},_checkDay:function(){var e=this.getData().control.getProvider(),t="function"==typeof e.getTime?e.getTime():null;if(t){var a=t.dayOfWeek;a!=this._currentDayOfWeek&&(this._currentDayOfWeek&&this._clearTime(this._currentDayOfWeek),this._currentDayOfWeek=a,this._applyTime(a))}},_createTabClickHandler:function(e){return function(){var t=l.numberToAbbr(e);t!=this._currentDayOfWeek&&this.getData().control.getProvider().setTime({dayOfWeek:t})}.bind(this)},_applyTime:function(e){var t=l.abbrToNumber(e);i.add(this._weekDays[t],f.addPrefix("traffic__tab_selected_yes"))},_clearTime:function(e){var t=l.abbrToNumber(e);i.remove(this._weekDays[t],f.addPrefix("traffic__tab_selected_yes"))}});a.add("traffic#controlArchivePopupWeekDaysLayout",y),e(y)});}],
['*J', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.ActualButtonTitle",["templateLayoutFactory","layout.storage","localization.common.current","formatter","Monitor"],function(t,e,i,o,n,a){var s=e.createClass("{{localization.Traffic.jams}}",{build:function(){s.superclass.build.call(this),this._providerStateMonitor=new a(this.getData().control.getProvider().state).add(["isInited","level","localtime"],this._checkState,this),this._checkState()},clear:function(){this._clearContentTimeout(),this._providerStateMonitor.destroy(),s.superclass.clear.call(this)},_checkState:function(){var t="";if(this._providerStateMonitor.get("isInited")){var e=this._providerStateMonitor.get("level"),i=this._providerStateMonitor.get("localtime");t=null!=e?n.numeral(e,o.Traffic.points):o.Traffic.jams,i&&(t+=", "+i)}else t=o.Traffic.jams;this._updateContent(t)},_updateContent:function(t){this._content!=t&&(this._content=t,this._clearContentTimeout(),this._lastContentTimeout=window.setTimeout(this._setContent.bind(this),100))},_setContent:function(){this.getElement().innerHTML=this._content,""!=this._content&&this.events.fire("sizechange")},_clearContentTimeout:function(){this._lastContentTimeout&&(window.clearTimeout(this._lastContentTimeout),this._lastContentTimeout=null)}});i.add("traffic#controlActualButtonTitleLayout",s),t(s)});}],
['*I', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.ActualPopupServicesList",["templateLayoutFactory","util.dom.element","layout.storage","option.presetStorage"],function(e,t,r,a){var s=t.createClass("",{build:function(){s.superclass.build.call(this),this._createServiceItems()},clear:function(){this._clearServiceItems(),s.superclass.clear.call(this)},_createServiceItems:function(){var e=this.getData().control.options,t=e.get("services",["traffic#eventsLayout","traffic#detailedLink"]);this._services=[];for(var s=0,i=t.length;s<i;s++){var c=t[s];"string"==typeof c&&(c=a.get(c));var l=new c(this.getData()),n=r.create({parentNode:this.getParentElement()});this._services[s]=l,l.setParentElement(n)}},_clearServiceItems:function(){for(var e=0,t=this._services.length;e<t;e++){var a=this._services[e],s=a.getParentElement();a.setParentElement(null),r.remove(s),a.destroy()}}});a.add("traffic#controlActualPopupServicesLayout",s),e(s)});}],
['(a', function (ym) {
function capitalize(t){return t.slice(0,1).toUpperCase()+t.slice(1)}ym.modules.define("theme.islands.traffic.layout.control.ActualPopupEventsCheckbox",["templateLayoutFactory","domEvent.manager","util.dom.element","util.dom.className","util.dom.style","Monitor","layout.storage","traffic.layout.settings.checkbox.html","util.css","yandex.counter"],function(t,e,i,s,o,n,a,c,h,r,l){var d={checkbox:"check",checkboxControl:"check__control"},_=e.createClass(h,{build:function(){_.superclass.build.call(this),this._topElement=s.findByPrefixedClass(this.getParentElement(),d.checkbox),this._boxControlElement=s.findByPrefixedClass(this.getParentElement(),d.checkboxControl),this._enabled=!0,this._checkEnabled(),this._checkVisibility(),this._applyChecked(),this._controlStateMonitor=new a(this.getData().controlState).add("providerKey",this._checkEnabled,this),this._stateMonitor=new a(this.getData().state).add("actualProviderHasData",this._checkVisibility,this),this._enabled&&this._checkState()},clear:function(){this._controlStateMonitor.destroy(),this._stateMonitor.destroy(),this._enabled&&this._stopListening(),_.superclass.clear.call(this)},_checkVisibility:function(){n.css(this._topElement,{display:this.getData().state.get("actualProviderHasData",!1)?void 0:"none"})},_checkEnabled:function(){"traffic#actual"!=this.getData().control.state.get("providerKey")?(this._isListening&&this._stopListening(),this._enabled=!1,n.attr(this._boxControlElement,{disabled:"disabled"})):(this._boxControlElement.removeAttribute("disabled"),this._enabled=!0,this._isListening||this._startListening())},_applyChecked:function(){this.getData().state.get("infoLayerCheckboxChecked")&&(this._currentChecked=!0,n.attr(this._boxControlElement,{checked:"checked"}))},_checkState:function(){var t=this.getData().control.getProvider().state.get("infoLayerShown");t!=this._currentChecked&&(this._currentChecked=t,t?(n.attr(this._boxControlElement,{checked:"checked"}),this.getData().state.set("infoLayerCheckboxChecked",!0)):(this.getData().state.set("infoLayerCheckboxChecked",!1),this._boxControlElement.removeAttribute("checked")))},_onClick:function(){var t=this.getData().control.getProvider().state,e=t.get("infoLayerShown",!1),i=!e;t.set("infoLayerShown",i),i&&l.countByKey("control","traffic.infoLayerOn")},_startListening:function(){i.add(this._topElement,"click",this._onClick,this),this._providerStateMonitor=new a(this.getData().control.getProvider().state).add("infoLayerShown",this._checkState,this),this._isListening=!0},_stopListening:function(){this._isListening=!1,this._providerStateMonitor.destroy(),i.remove(this._topElement,"click",this._onClick,this)}});c.add("traffic#eventsLayout",_),t(_)});}],
['*Z', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.DetailedLink",["templateLayoutFactory","layout.storage","Monitor","yandex.yandexMapUrlProvider","domEvent.manager","yandex.counter","util.dom.element","traffic.layout.settings.detailedLink.html"],function(t,e,i,a,n,o,r,s,d){var l=e.createClass(d,{build:function(){l.superclass.build.call(this);var t=this.getData().control.getProvider(),e=t.state;this._map=t.getMap(),this._infoLayerMonitor=new a(e).add("infoLayerShown",this._updateLink,this),this._map.events.add("boundschange",this._updateLink,this),this._updateLink(),this._toMapButton=s.findByPrefixedClass(this.getElement(),"traffic__detailed-link-button"),o.add(this._toMapButton,"click",this._clickHandler,this)},clear:function(){o.remove(this._toMapButton,"click",this._clickHandler,this),this._infoLayerMonitor.destroy(),this._map.events.remove("boundschange",this._updateLink,this),l.superclass.clear.call(this)},_clickHandler:function(){r.countByKey("distribution",["traffic","moreInfo",ym.env.browser.platform,r.versionPrefix].join("."))},_updateLink:function(){this.getData().state.set("href",this._formLink())},_formLink:function(){var t=this.getData().control.getProvider(),e=t.getMap(),i=this.getData().control.getProvider().state;return n.getTrafficSituationUrl(e.getCenter(),e.getZoom(),i.get("infoLayerShown")?["trf","trfe"]:["trf"])}});i.add("traffic#detailedLink",l),t(l)});}],
['@p', function (ym) {
ym.modules.define('traffic', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-traffic{box-shadow:0 1px 2px 1px rgba(0,0,0,.15),0 2px 5px -3px rgba(0,0,0,.15);border-radius:3px;position:relative;display:inline-block}.ymaps-2-1-74-traffic .ymaps-2-1-74-float-button{box-shadow:none!important;white-space:nowrap;text-align:left;overflow:hidden}.ymaps-2-1-74-traffic .ymaps-2-1-74-float-button.ymaps-2-1-74-_pin_right{overflow:visible}.ymaps-2-1-74-traffic .ymaps-2-1-74-float-button.ymaps-2-1-74-_pin_right:before{content:\'\';position:absolute;top:-1px;left:-1px;bottom:-1px;width:0;border-left:1px solid rgba(0,0,0,.15)}.ymaps-2-1-74-traffic-week-days{display:block}.ymaps-2-1-74-button_traffic_left_animation{-webkit-transition:width .3s ease-out;transition:width .3s ease-out}.ymaps-2-1-74-traffic__icon{display:inline-block;width:16px;height:16px;border:5px solid transparent;background-repeat:no-repeat;background-position:center;vertical-align:top}.ymaps-2-1-74-_disabled .ymaps-2-1-74-traffic__icon,.ymaps-2-1-74-traffic__slider-button.ymaps-2-1-74-_disabled .ymaps-2-1-74-traffic__slider-button-text{opacity:.5}.ymaps-2-1-74-traffic__icon_icon_settings{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNMi45OCAyLjljLjQxLS4zNS44OS0uNjIgMS40MS0uODFMNC43OC41NWEuNzIuNzIgMCAwIDEgLjctLjU1aDEuMDRjLjMzIDAgLjYyLjIzLjcuNTVsLjM5IDEuNTRjLjUyLjE5IDEgLjQ3IDEuNDEuODFsMS41NC0uNDNhLjcuNyAwIDAgMSAuODIuMzNsLjUyLjlhLjcyLjcyIDAgMCAxLS4xMi44OGwtMS4xNCAxLjFhNC43MSA0LjcxIDAgMCAxIDAgMS42NGwxLjE0IDEuMWEuNzIuNzIgMCAwIDEgLjEyLjg4bC0uNTIuOWEuNzIuNzIgMCAwIDEtLjgyLjMzbC0xLjUzLS40M2MtLjQyLjM1LS45LjYyLTEuNDIuODFsLS4zOSAxLjU0YS43Mi43MiAwIDAgMS0uNy41NUg1LjQ4YS43Mi43MiAwIDAgMS0uNy0uNTVsLS4zOS0xLjU0Yy0uNTItLjE5LTEtLjQ2LTEuNDEtLjgxbC0xLjU0LjQzYS43Mi43MiAwIDAgMS0uODItLjMzTC4xIDkuM2EuNzIuNzIgMCAwIDEgLjEyLS44OGwxLjE1LTEuMWE0LjcxIDQuNzEgMCAwIDEgMC0xLjY0TC4yMiA0LjU4QS43Mi43MiAwIDAgMSAuMSAzLjdsLjUyLS45YS43Mi43MiAwIDAgMSAuODItLjMzbDEuNTMuNDN6TTYgOC4zYTEuOCAxLjggMCAxIDAgMC0zLjYgMS44IDEuOCAwIDAgMCAwIDMuNjJ6Ii8+PC9kZWZzPjx1c2UgZmlsbD0iIzY2NiIgZmlsbC1ydWxlPSJldmVub2RkIiB4bGluazpocmVmPSIjYSIvPjwvc3ZnPg==)}.ymaps-2-1-74-traffic__icon_icon_off{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjOTk5ODk4IiBkPSJNLjE3IDguMmMuMiAxLjA0IDEuMSAxLjY0IDIuOTQgMS42NCAxLS41OSAxLTYuMDYgMy44LTcuMjIuNC0uMTcuNzgtLjMgMS4xNy0uNDJhNyA3IDAgMCAwIC41LS4xNlM3Ljk3IDIgNy4yOCAyaC0uMThjLS42MiAwLS44LjA4LTEuNDUuMTVBNi40OCA2LjQ4IDAgMCAwIC40MyA2LjI3Yy0uMTIuMzYtLjIuNy0uMjUgMXYuOTJ6Ii8+PHBhdGggZmlsbD0iI2JmYmZiZiIgZD0iTTkuNTMgMTYuMDNhNy4wMSA3LjAxIDAgMSAwLTEuNDQgMGgxLjQ0eiIvPjxwYXRoIGZpbGw9IiMyNDI3MjYiIGQ9Ik03LjkzIDEuOTdsLjkuMDJhNy4wNiA3LjA2IDAgMCAxIDYuOTYgNy41OGMtMS4wMi0uMDgtMi40My0xLjQyLTIuNzYtMi41YTYuOTIgNi45MiAwIDAgMC02LjU1LTUuMDJjLjYtLjA2IDEuMDUtLjA4IDEuNDUtLjA4eiIvPjwvZz48L3N2Zz4=)}.ymaps-2-1-74-traffic__icon_icon_green{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjNjA3ZTQ5IiBkPSJNLjE3IDguMmMuMiAxLjA0IDEuMSAxLjY0IDIuOTQgMS42NCAxLS41OSAxLTYuMDYgMy44LTcuMjIuNC0uMTcuNzgtLjMgMS4xNy0uNDJhNyA3IDAgMCAwIC41LS4xNlM3Ljk3IDIgNy4yOCAyaC0uMThjLS42MiAwLS44LjA4LTEuNDUuMTVBNi40OCA2LjQ4IDAgMCAwIC40MyA2LjI3Yy0uMTIuMzYtLjIuNy0uMjUgMXYuOTJ6Ii8+PHBhdGggZmlsbD0iIzY5YzAzMCIgZD0iTTkuNTMgMTYuMDNhNy4wMSA3LjAxIDAgMSAwLTEuNDQgMGgxLjQ0eiIvPjxwYXRoIGZpbGw9IiMyNDI3MjYiIGQ9Ik03LjkzIDEuOTdsLjkuMDJhNy4wNiA3LjA2IDAgMCAxIDYuOTYgNy41OGMtMS4wMi0uMDgtMi40My0xLjQyLTIuNzYtMi41YTYuOTIgNi45MiAwIDAgMC02LjU1LTUuMDJjLjYtLjA2IDEuMDUtLjA4IDEuNDUtLjA4eiIvPjwvZz48L3N2Zz4=)}.ymaps-2-1-74-traffic__icon_icon_yellow{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjYmQ5YzRmIiBkPSJNLjE3IDguMmMuMiAxLjA0IDEuMSAxLjY0IDIuOTQgMS42NCAxLS41OSAxLTYuMDYgMy44LTcuMjIuNC0uMTcuNzgtLjMgMS4xNy0uNDJhNyA3IDAgMCAwIC41LS4xNlM3Ljk3IDIgNy4yOCAyaC0uMThjLS42MiAwLS44LjA4LTEuNDUuMTVBNi40OCA2LjQ4IDAgMCAwIC40MyA2LjI3Yy0uMTIuMzYtLjIuNy0uMjUgMXYuOTJ6Ii8+PHBhdGggZmlsbD0iI2ZmYzA0MiIgZD0iTTkuNTMgMTYuMDNhNy4wMSA3LjAxIDAgMSAwLTEuNDQgMGgxLjQ0eiIvPjxwYXRoIGZpbGw9IiMyNDI3MjYiIGQ9Ik03LjkzIDEuOTdsLjkuMDJhNy4wNiA3LjA2IDAgMCAxIDYuOTYgNy41OGMtMS4wMi0uMDgtMi40My0xLjQyLTIuNzYtMi41YTYuOTIgNi45MiAwIDAgMC02LjU1LTUuMDJjLjYtLjA2IDEuMDUtLjA4IDEuNDUtLjA4eiIvPjwvZz48L3N2Zz4=)}.ymaps-2-1-74-traffic__icon_icon_red{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjYTU0MzQwIiBkPSJNLjE3IDguMmMuMiAxLjA0IDEuMSAxLjY0IDIuOTQgMS42NCAxLS41OSAxLTYuMDYgMy44LTcuMjIuNC0uMTcuNzgtLjMgMS4xNy0uNDJhNyA3IDAgMCAwIC41LS4xNlM3Ljk3IDIgNy4yOCAyaC0uMThjLS42MiAwLS44LjA4LTEuNDUuMTVBNi40OCA2LjQ4IDAgMCAwIC40MyA2LjI3Yy0uMTIuMzYtLjIuNy0uMjUgMXYuOTJ6Ii8+PHBhdGggZmlsbD0iI2ZmNTg1OCIgZD0iTTkuNTMgMTYuMDNhNy4wMSA3LjAxIDAgMSAwLTEuNDQgMGgxLjQ0eiIvPjxwYXRoIGZpbGw9IiMyNDI3MjYiIGQ9Ik03LjkzIDEuOTdsLjkuMDJhNy4wNiA3LjA2IDAgMCAxIDYuOTYgNy41OGMtMS4wMi0uMDgtMi40My0xLjQyLTIuNzYtMi41YTYuOTIgNi45MiAwIDAgMC02LjU1LTUuMDJjLjYtLjA2IDEuMDUtLjA4IDEuNDUtLjA4eiIvPjwvZz48L3N2Zz4=)}.ymaps-2-1-74-traffic__panel{position:absolute;top:100%;right:-5px;display:block;margin-top:-9999px;white-space:normal;-webkit-transform:translate3d(0,0,0)}.ymaps-2-1-74-traffic_settings_pressed .ymaps-2-1-74-traffic__panel{display:block;margin-top:13px;-webkit-transform:translate3d(0,0,0)}.ymaps-2-1-74-traffic__tail{right:31px;display:block}.ymaps-2-1-74-traffic__panel-content{display:block;overflow-x:hidden;overflow-y:auto;min-width:40px;min-height:20px;padding:0 10px 10px;border-top:7px solid #fff;border-bottom:2px solid #fff;background:#fff}.ymaps-2-1-74-traffic__panel{-webkit-transition:width .3s ease-out;transition:width .3s ease-out}.ymaps-2-1-74-traffic__panel-show-animation{-webkit-animation:traffic__panel_show_animation_keyframe .25s ease-out;animation:traffic__panel_show_animation_keyframe .25s ease-out}.ymaps-2-1-74-traffic__panel-hide-animation{-webkit-animation:traffic__panel_hide_animation_keyframe .25s ease-out;animation:traffic__panel_hide_animation_keyframe .25s ease-out}@-webkit-keyframes traffic__panel_show_animation_keyframe{0%{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1)}to{margin-top:13px;opacity:1;-webkit-transform:scale(1,1)}}@-webkit-keyframes traffic__panel_hide_animation_keyframe{0%{margin-top:13px;opacity:1}to{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1)}}@-webkit-keyframes traffic__panel_show_animation_keyframe{0%{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1);transform:translate(42%,-60%) scale(.1,.1)}to{margin-top:13px;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes traffic__panel_show_animation_keyframe{0%{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1);transform:translate(42%,-60%) scale(.1,.1)}to{margin-top:13px;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes traffic__panel_hide_animation_keyframe{0%{margin-top:13px;opacity:1}to{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1);transform:translate(42%,-60%) scale(.1,.1)}}@keyframes traffic__panel_hide_animation_keyframe{0%{margin-top:13px;opacity:1}to{margin-top:0;opacity:0;-webkit-transform:translate(42%,-60%) scale(.1,.1);transform:translate(42%,-60%) scale(.1,.1)}}.ymaps-2-1-74-traffic__switcher{display:block;margin-bottom:8px;border-bottom:1px solid #e5e5e5;font:13px/20px Arial,Helvetica,sans-serif}.ymaps-2-1-74-traffic__switcher-item{position:relative;top:1px;display:inline-block;cursor:pointer;color:#000;border-bottom:3px solid transparent}.ymaps-2-1-74-traffic__switcher-item:hover{color:#c00}.ymaps-2-1-74-traffic__switcher-item.ymaps-2-1-74-traffic__switcher-item_selected_yes{cursor:default;color:#000;border-bottom-color:#000}.ymaps-2-1-74-traffic__switcher-item:not(:last-child){margin-right:18px}.ymaps-2-1-74-traffic__tabs{box-sizing:border-box!important;display:block;height:20px;margin-top:0;margin-right:-4px;margin-left:-4px;text-align:justify;line-height:20px}.ymaps-2-1-74-traffic__tabs-justifier{display:inline-block;width:100%}.ymaps-2-1-74-traffic__tab{font:11px/1 Verdana,sans-serif;color:#999;cursor:pointer}.ymaps-2-1-74-traffic__tab:hover{color:#c00}.ymaps-2-1-74-traffic__tab.ymaps-2-1-74-traffic__tab_selected_yes{cursor:default;color:#000}.ymaps-2-1-74-traffic__tab-text{padding:4px}.ymaps-2-1-74-traffic__checkbox-cell{display:block;margin-top:12px;font-size:13px}.ymaps-2-1-74-traffic__slider-button{box-sizing:border-box!important;border-width:1px;border-style:solid;border-radius:3px;background-clip:border-box;color:#000;vertical-align:middle;text-decoration:none;font-family:Arial,Helvetica,sans-serif;cursor:pointer;-webkit-transition:background-color .15s ease-out,border-color .15s ease-out,opacity .15s ease-out;transition:background-color .15s ease-out,border-color .15s ease-out,opacity .15s ease-out;display:inline-block;text-align:left;height:28px;background-color:#fff;border-color:rgba(0,0,0,.2)}a.ymaps-2-1-74-traffic__slider-button,a.ymaps-2-1-74-traffic__slider-button:active,a.ymaps-2-1-74-traffic__slider-button:hover,a.ymaps-2-1-74-traffic__slider-button:link,a.ymaps-2-1-74-traffic__slider-button:visited{color:#000!important;text-decoration:none!important}.ymaps-2-1-74-traffic__slider-button-text{position:relative;border:none;text-decoration:none;white-space:nowrap;font-size:13px;line-height:26px}.ymaps-2-1-74-traffic__slider-button:hover{border-color:rgba(0,0,0,.3)}.ymaps-2-1-74-traffic__slider-button.ymaps-2-1-74-_pressed,.ymaps-2-1-74-traffic__slider-button:active{background-color:#f3f1ed}.ymaps-2-1-74-traffic__slider-button.ymaps-2-1-74-_disabled{cursor:default;background-color:#ebebeb}.ymaps-2-1-74-traffic__slider{position:relative;display:block;margin-bottom:10px;-webkit-user-select:none}.ymaps-2-1-74-traffic__slider-scale{position:relative;display:block;height:16px;margin:4px 0}.ymaps-2-1-74-traffic__slider-body{position:relative;display:block;line-height:0}.ymaps-2-1-74-traffic__slider-track{position:absolute;top:50%;display:block;cursor:pointer;right:1px;left:1px;height:6px;margin-top:-3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.2);border-radius:3px;background-color:rgba(0,0,0,.05)}.ymaps-2-1-74-traffic__slider-button{position:relative}.ymaps-2-1-74-traffic__slider-button-text{display:inline-block;padding:0;width:46px;text-align:center}.ymaps-2-1-74-traffic__slider-label{position:absolute;color:#999;font:11px Verdana,sans-serif}.ymaps-2-1-74-traffic__slider-label_type_center{right:25%;left:25%;text-align:center}.ymaps-2-1-74-traffic__slider-label_type_right{right:0}.ymaps-2-1-74-traffic__hint{position:relative;display:block;margin-top:10px;padding:10px;background:#e5e5e5}.ymaps-2-1-74-traffic__hint-text{display:block;padding-right:10px;font:11px/16px Verdana,sans-serif}.ymaps-2-1-74-traffic__hint-close{position:absolute;top:3px;right:3px;display:block;width:13px;height:13px;cursor:pointer;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PHBhdGggZD0iTTEuNSAxLjVsNyA3TTguNSAxLjVsLTcgNyIvPjwvZz48L3N2Zz4=) center no-repeat;opacity:.3}.ymaps-2-1-74-traffic__hint-close:hover{opacity:1}.ymaps-2-1-74-traffic .ymaps-2-1-74-error-message{margin-top:16px;background-repeat:no-repeat;background-position:10px 2px}.ymaps-2-1-74-traffic__link{color:#04b;cursor:pointer}.ymaps-2-1-74-traffic__detailed-link a:hover,.ymaps-2-1-74-traffic__link:hover{color:#c00}.ymaps-2-1-74-traffic__detailed-link{margin-top:16px;display:block}.ymaps-2-1-74-traffic__detailed-link a{color:#04b;cursor:pointer;text-decoration:none;font-family:Arial,Helvetica,sans-serif;font-size:13px}', provide);
});}],
[';,', function (ym) {
ym.modules.define('popup__content', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup__content{position:relative;z-index:10;margin:0;padding:4px 8px;height:100%}', provide);
});}],
[';I', function (ym) {
ym.modules.define('popup_visibility_visible', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup_visibility_visible{display:block}', provide);
});}],
[';J', function (ym) {
ym.modules.define('popup_visibility_outside', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup_visibility_outside{display:block;top:-99999px;left:-99999px}', provide);
});}],
[';q', function (ym) {
ym.modules.define('popup__under', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup__under{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:0;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}', provide);
});}],
[';;', function (ym) {
ym.modules.define('popup__under_color_white', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup__under_color_white{background:#fff;opacity:.8}', provide);
});}],
[';@', function (ym) {
ym.modules.define('popup__under_type_paranja', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup__under_type_paranja{position:fixed;z-index:32000;top:0;left:0;opacity:.3;background:#000;padding:0}', provide);
});}],
[';:', function (ym) {
ym.modules.define('popup__tail', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-popup__tail{font:0/0 a;position:absolute;z-index:9;display:block;width:17px;height:17px}.ymaps-2-1-74-popup__tail:after{content:\'\';position:absolute;width:17px;height:17px}.ymaps-2-1-74-popup_to_left .ymaps-2-1-74-popup__tail,.ymaps-2-1-74-popup_to_top .ymaps-2-1-74-popup__tail{-webkit-transform-origin:top left;-moz-transform-origin:top left;-ms-transform-origin:top left;-o-transform-origin:top left;transform-origin:top left}.ymaps-2-1-74-popup_to_top .ymaps-2-1-74-popup__tail{top:100%;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg)}.ymaps-2-1-74-popup_to_left .ymaps-2-1-74-popup__tail{-webkit-transform:rotate(-135deg);-moz-transform:rotate(-135deg);-ms-transform:rotate(-135deg);-o-transform:rotate(-135deg);transform:rotate(-135deg);margin-top:24.04px;left:100%}.ymaps-2-1-74-popup_to_bottom .ymaps-2-1-74-popup__tail:after,.ymaps-2-1-74-popup_to_left .ymaps-2-1-74-popup__tail:after,.ymaps-2-1-74-popup_to_right .ymaps-2-1-74-popup__tail:after,.ymaps-2-1-74-popup_to_top .ymaps-2-1-74-popup__tail:after{left:1px;bottom:1px}.ymaps-2-1-74-popup_to_bottom .ymaps-2-1-74-popup__tail,.ymaps-2-1-74-popup_to_right .ymaps-2-1-74-popup__tail{-webkit-transform-origin:100% 100%;-moz-transform-origin:100% 100%;-ms-transform-origin:100% 100%;-o-transform-origin:100% 100%;transform-origin:100% 100%}.ymaps-2-1-74-popup_to_bottom .ymaps-2-1-74-popup__tail{margin-left:-17px;bottom:100%;-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg);transform:rotate(135deg)}.ymaps-2-1-74-popup_to_right .ymaps-2-1-74-popup__tail{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);margin-top:7.04px;right:100%}', provide);
});}],
[';d', function (ym) {
ym.modules.define('traffic.layout.button.html', ["float-button","traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-float-button ymaps-2-1-74-float-button_traffic_left\"><ymaps class=\"ymaps-2-1-74-traffic__icon ymaps-2-1-74-traffic__icon_icon_off ymaps-2-1-74-float-button-icon\"></ymaps><ymaps class=\"ymaps-2-1-74-float-button-text\"></ymaps></ymaps>"]);
});}],
['(o', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.SettingsButton",["templateLayoutFactory","traffic.layout.settingsButton.html","util.dom.style","util.dom.className","util.dom.element","util.dom.reaction.hover","util.dom.reaction.hold","layout.storage","Monitor","domEvent.manager","util.css","yandex.counter"],function(t,e,n,i,s,o,a,c,l,d,r,h,u){var _={buttonRight:"float-button_side_right",buttonCheckedState:"_checked"},g=h,m=e.createClass(n,{build:function(){m.superclass.build.call(this);var t=this.getParentElement();this._settingsButtonElement=o.findByPrefixedClass(t,_.buttonRight),this._expanded=!1,this._checkExpanded(),this._controlStateMonitor=new d(this.getData().controlState).add("expanded",this._checkExpanded,this),this._setupEvents(),this._setupHoverReactions()},clear:function(){this._clearEvents(),this._controlStateMonitor.destroy(),this._clearHoverReactions(),m.superclass.clear.call(this)},_setupHoverReactions:function(){this._hoverReaction=a.reaction({element:this._settingsButtonElement,targetElement:this._settingsButtonElement,toggleCssClass:g.addPrefix("button_hovered_yes")})},_clearHoverReactions:function(){this._hoverReaction.disable()},_setupEvents:function(){r.add(this._settingsButtonElement,"click",this._onSettingsButtonClick,this)},_clearEvents:function(){r.remove(this._settingsButtonElement,"click",this._onSettingsButtonClick,this)},_onSettingsButtonClick:function(){this.getData().controlState.get("expanded")?this.events.fire("collapse"):this.events.fire("expand")},_checkExpanded:function(){var t=this.getData().controlState.get("expanded",!1);t!=this._expanded&&(t?s.add(this._settingsButtonElement,g.addPrefix(_.buttonCheckedState)):s.remove(this._settingsButtonElement,g.addPrefix(_.buttonCheckedState)),this._expanded=t)}});l.add("traffic#controlSettingsButtonLayout",m),t(m)});}],
[';l', function (ym) {
ym.modules.define('traffic.layout.settings.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__panel ymaps-2-1-74-popup ymaps-2-1-74-popup_direction_down ymaps-2-1-74-popup_to_bottom ymaps-2-1-74-popup_theme_ffffff\"><ymaps class=\"ymaps-2-1-74-traffic__tail ymaps-2-1-74-popup__tail\"></ymaps><ymaps class=\"ymaps-2-1-74-traffic__panel-content\">",2002,["traffic#controlPopupSwitcherLayout",[]],0,"</ymaps></ymaps>"]);
});}],
['(n', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.Switcher",["templateLayoutFactory","util.dom.element","util.dom.className","domEvent.manager","layout.storage","traffic.layout.settings.switcher.html","Monitor","util.css","yandex.counter"],function(t,e,i,r,s,a,c,o,d,h){var n=e.createClass(c,{build:function(){n.superclass.build.call(this);var t=this.getParentElement();this._todayItem=i.findByPrefixedClass(t,"traffic__switcher-item_data_actual"),this._statisticsItem=i.findByPrefixedClass(t,"traffic__switcher-item_data_archive"),this._applyProvider(),this._controlStateMonitor=new o(this.getData().controlState).add("providerKey",this._onProviderChange,this)},clear:function(){this._controlStateMonitor.destroy(),this._clearProvider(),n.superclass.clear.call(this)},_setupEvents:function(){"traffic#archive"==this._providerKey?s.add(this._todayItem,"click",this._onTodayItemClick,this):s.add(this._statisticsItem,"click",this._onStatisticsItemClick,this)},_clearEvents:function(){"traffic#archive"==this._providerKey?s.remove(this._todayItem,"click",this._onTodayItemClick,this):s.remove(this._statisticsItem,"click",this._onStatisticsItemClick,this)},_onTodayItemClick:function(){this.events.fire("providerkeychange",{newProviderKey:this.getData().state.get("previousProviderKey","traffic#actual")})},_onStatisticsItemClick:function(){this.events.fire("providerkeychange",{newProviderKey:"traffic#archive"})},_onProviderChange:function(){this._clearProvider(),this._applyProvider()},_applyProvider:function(){this._providerKey=this.getData().controlState.get("providerKey"),"traffic#archive"==this._providerKey?r.add(this._statisticsItem,d.addPrefix("traffic__switcher-item_selected_yes")):r.add(this._todayItem,d.addPrefix("traffic__switcher-item_selected_yes")),this._setupEvents()},_clearProvider:function(){this._clearEvents(),"traffic#archive"==this._providerKey?r.remove(this._statisticsItem,d.addPrefix("traffic__switcher-item_selected_yes")):r.remove(this._todayItem,d.addPrefix("traffic__switcher-item_selected_yes")),this._providerKey=null}});a.add("traffic#controlPopupSwitcherLayout",n),t(n)});}],
['(l', function (ym) {
ym.modules.define("theme.islands.traffic.control.ActualPopupContentComponent",["util.defineClass","Monitor","util.dom.element","traffic.provider.actual.timestampProvider","traffic.timeZone","localization.common.current","layout.storage"],function(t,e,o,a,r,i,s,n){var u=function(t,e){this._footerElement=e,this._popupLayout=t,this._enabled=!1,this._checkProvider(),this._controlStateMonitor=new o(this._popupLayout.getData().controlState).add(["providerKey","trafficShown"],this._checkProvider,this)};e(u,{destroy:function(){this._clearContent(),this._controlStateMonitor.destroy()},_setupContent:function(){this._optionsMonitor=new o(this._popupLayout.getData().options).add("popupFooterLayout",this._updateFooterLayout,this),this._footerLayout=this._createLayout("popupFooterLayout",this._footerElement),this._createProviderDataListeners()},_clearContent:function(){this._footerLayout&&(this._clearLayout(this._footerLayout),this._footerLayout=null),this._clearProviderDataListeners(),this._optionsMonitor&&this._optionsMonitor.destroy()},_checkProvider:function(){var t=this._popupLayout.getData().controlState,e=t.get("providerKey"),o=("traffic#actual"==e||"traffic#forecast"==e)&&t.get("trafficShown");!!o!=this._enabled&&(o?this._setupContent():this._clearContent(),this._enabled=o)},_updateFooterLayout:function(){this._footerLayout&&this._clearLayout(this._footerLayout),this._footerLayout=this._createLayout("popupFooterLayout",this._footerElement)},_createProviderDataListeners:function(){var t=this._popupLayout.getData().control.getMap();this._actualTimestampProvider=r.get(t),this._actualProviderListener=this._actualTimestampProvider.events.group().add("timestampchange",this._checkForecastEnabled,this);var e=this._popupLayout.getData().control;this._boundsChangeListener=t.events.group().add("boundschange",this._checkTimeZone,this),this._actualTimestampProvider.getCurrent()||this._actualTimestampProvider.get();var o=t.getCenter({useMapMargin:e.getProvider().options.get("useMapMargin",!0)});i.getCurrent(o,t.getZoom())||i.get(o,t.getZoom()).then(this._checkForecastEnabled,this._checkForecastEnabled,this)},_clearProviderDataListeners:function(){this._actualTimestampProvider=null,this._actualProviderListener&&(this._actualProviderListener.removeAll(),this._boundsChangeListener.removeAll())},_checkForecastEnabled:function(){if(this._actualTimestampProvider){var t=this._popupLayout.getData().state,e=this._popupLayout.getData().controlState.get("providerKey"),o=this._isDataExists();o!=t.get("actualProviderHasData",!1)&&(o||"traffic#forecast"!=e||this._popupLayout.events.fire("providerkeychange",{newProviderKey:"traffic#actual"}),t.set("actualProviderHasData",o))}},_checkTimeZone:function(){var t=this._popupLayout.getData().control,e=t.getMap(),o=e.getCenter({useMapMargin:t.getProvider().options.get("useMapMargin",!0)});i.get(o,e.getZoom()).then(this._checkForecastEnabled,this._checkForecastEnabled,this)},_isDataExists:function(){var t=this._popupLayout.getData().control,e=t.getMap(),o=e.getCenter({useMapMargin:t.getProvider().options.get("useMapMargin",!0)});return Boolean(this._actualTimestampProvider&&this._actualTimestampProvider.getCurrent())&&Boolean(i.getCurrent(o,e.getZoom()))},_createLayout:function(t,e){var o,a=this._popupLayout.getData(),r=a.controlState.get("providerKey"),i=a.control.getProvider(r),s=i.options.get(t);return"string"==typeof s&&(s=n.get(s)),s&&(o=new s(this._popupLayout.getData()),o.events.setParent(this._popupLayout.events),o.setParentElement(e)),o},_clearLayout:function(t){t.setParentElement(null),t.events.setParent(null),t.destroy()}}),t(u)});}],
['(c', function (ym) {
ym.modules.define("theme.islands.traffic.control.ArchivePopupContentComponent",["util.defineClass","Monitor","util.dom.element","traffic.timeZone","localization.common.current","domEvent.manager","theme.islands.traffic.layout.control.PopupError","layout.storage","util.css"],function(t,e,i,r,o,a,n,s,u,h){var l={link:"traffic__link"},c=a.Traffic.noStatisticsHere+'<br><ymaps class="'+h.addPrefix(l.link)+'">'+a.Traffic.seeCurrentTrafficJams+"</ymaps>",_=function(t,e,r,o){this._sliderElement=e,this._weekDaysElement=r,this._footerElement=o,this._popupLayout=t,this._popupErrorLayout=null,this._enabled=!1,this._checkProvider(),this._controlStateMonitor=new i(this._popupLayout.getData().controlState).add(["providerKey","trafficShown"],this._checkProvider,this)};e(_,{destroy:function(){this._clearContent(),this._controlStateMonitor.destroy()},_setupContent:function(){this._createProviderDataListeners(),this._setupSliderLayout()},_clearContent:function(){this._clearSliderLayout(),this._clearProviderDataListeners()},_checkProvider:function(){var t=this._popupLayout.getData().controlState,e=t.get("providerKey"),i="traffic#archive"==e&&t.get("trafficShown");i!=this._enabled&&(i?this._setupContent():this._clearContent(),this._enabled=i)},_setupSliderLayout:function(){this._archiveEnabled=this._isArchiveEnabledHere(),this._archiveEnabled?(this._sliderLayout=this._createLayout("popupSliderLayout",this._sliderElement),this._weekDaysLayout=this._createLayout("popupWeekDaysLayout",this._weekDaysElement),this._footerLayout=this._createLayout("popupFooterLayout",this._footerElement)):(this._popupErrorLayout=new s(this._popupLayout.getData()),this._popupErrorLayout.setParentElement(this._sliderElement),r.html(r.findByPrefixedClass(this._sliderElement,"error-message__msg"),c),this._linkElement=r.findByPrefixedClass(this._sliderElement,l.link),n.add(this._linkElement,"click",this._onCurrentTrafficClick,this))},_clearSliderLayout:function(){this._sliderLayout?(this._clearLayout(this._sliderLayout),this._clearLayout(this._weekDaysLayout),this._clearLayout(this._footerLayout),this._sliderLayout=null):this._linkElement&&(n.remove(this._linkElement,"click",this._onCurrentTrafficClick,this),this._popupErrorLayout.setParentElement(null))},_createProviderDataListeners:function(){var t=this._popupLayout.getData().control,e=t.getMap(),i=e.getCenter({useMapMargin:t.getProvider().options.get("useMapMargin",!0)});this._boundsChangeListener=e.events.group().add("boundschange",this._checkTimeZone,this),o.getCurrent(i,e.getZoom())||o.get(i,e.getZoom()).then(this._checkArchiveEnabled.bind(this))},_clearProviderDataListeners:function(){this._boundsChangeListener&&this._boundsChangeListener.removeAll()},_checkArchiveEnabled:function(){var t=this._isArchiveEnabledHere();t!=this._archiveEnabled&&(this._rebuildSliderLayout(),this._archiveEnabled=t)},_checkTimeZone:function(){var t=this._popupLayout.getData().control,e=t.getMap(),i=e.getCenter({useMapMargin:t.getProvider().options.get("useMapMargin",!0)});o.get(i,e.getZoom()).then(this._checkArchiveEnabled,this._checkArchiveEnabled,this)},_isArchiveEnabledHere:function(){var t=this._popupLayout.getData().control,e=t.getMap(),i=e.getCenter({useMapMargin:t.getProvider().options.get("useMapMargin",!0)});return o.getCurrent(i,e.getZoom())},_createLayout:function(t,e){var i,r=this._popupLayout.getData().control.getProvider("traffic#archive"),o=r.options.get(t);return"string"==typeof o&&(o=u.get(o)),o&&(i=new o(this._popupLayout.getData()),i.events.setParent(this._popupLayout.events),i.setParentElement(e)),i},_clearLayout:function(t){t.setParentElement(null),t.events.setParent(null),t.destroy()},_rebuildSliderLayout:function(){this._clearSliderLayout(),this._setupSliderLayout()},_onCurrentTrafficClick:function(){this._popupLayout.events.fire("providerkeychange",{newProviderKey:"traffic#actual"})}}),t(_)});}],
[';m', function (ym) {
ym.modules.define('traffic.layout.settings.slider.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__slider\"><ymaps class=\"ymaps-2-1-74-traffic__slider-scale\"><ymaps class=\"ymaps-2-1-74-traffic__slider-label ymaps-2-1-74-traffic__slider-label_type_left\">%leftLabel</ymaps><ymaps class=\"ymaps-2-1-74-traffic__slider-label ymaps-2-1-74-traffic__slider-label_type_right\">%rightLabel</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__slider-body\"><ymaps class=\"ymaps-2-1-74-traffic__slider-track\"></ymaps><ymaps class=\"ymaps-2-1-74-traffic__slider-button ymaps-2-1-74-button\" ",2009,null,0,"left: 0",2010,null,0,"><ymaps class=\"ymaps-2-1-74-traffic__slider-button-text ymaps-2-1-74-button__text\"></ymaps></ymaps></ymaps></ymaps>"]);
});}],
['(e', function (ym) {
var SLIDER_WIDTH=202;ym.modules.define("theme.islands.traffic.layout.control.ArchiveSliderButtonContent",["templateLayoutFactory","layout.storage","Monitor"],function(t,e,a,i){function r(t){return t<10?"0"+t.toString():t}var l=e.createClass("",{build:function(){l.superclass.build.call(this),this._updateSliderLabel(),this._stateMonitor=new i(this.getData().state).add("sliderDeltaX",this._updateSliderLabel,this)},clear:function(){this._stateMonitor.destroy(),l.superclass.clear.call(this)},_updateSliderLabel:function(){var t=this.getData().state.get("sliderDeltaX");if(null!=t){var e=15*Math.round(t/SLIDER_WIDTH*1425/15),a=Math.floor(e/60),i=e-60*a;23==a?i=Math.min(i,45):a>23&&(a=23,i=45),this.getParentElement().innerHTML=r(a)+":"+r(i)}}});a.add("traffic#controlArchiveSliderButtonContentLayout",l),t(l)});}],
[';k', function (ym) {
ym.modules.define('traffic.layout.settings.hint.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([2003,"!data.get(\"state.popupHintClosed\")",0,"<ymaps class=\"ymaps-2-1-74-traffic__hint\"><ymaps class=\"ymaps-2-1-74-traffic__hint-close\"></ymaps><ymaps class=\"ymaps-2-1-74-traffic__hint-text\">",2001,["localization.Traffic.statisticsHint",[]],0,"</ymaps></ymaps>",2005,null]);
});}],
[';o', function (ym) {
ym.modules.define('traffic.layout.settings.tabs.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__tabs\"><ymaps class=\"ymaps-2-1-74-traffic__tab\"><ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%mon</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%tue</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%wed</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%thu</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%fri</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%sat</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tab\">&nbsp;<ymaps class=\"ymaps-2-1-74-traffic__tab-text\">%sun</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-traffic__tabs-justifier\"></ymaps></ymaps>"]);
});}],
[';g', function (ym) {
ym.modules.define('traffic.layout.settings.checkbox.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail","check"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__checkbox-cell\"><ymaps class=\"ymaps-2-1-74-check\"><input class=\"ymaps-2-1-74-check__control\" type=\"checkbox\"><ymaps class=\"ymaps-2-1-74-check__box\"></ymaps><ymaps class=\"ymaps-2-1-74-check__label-text\">",2001,["localization.Traffic.infoLayer",[]],0,"</ymaps></ymaps></ymaps>"]);
});}],
[';h', function (ym) {
ym.modules.define('traffic.layout.settings.detailedLink.html', ["traffic"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__detailed-link\"><a class=\"ymaps-2-1-74-traffic__detailed-link-button\" href=\"",2001,["state.href",[]],0,"\" target=\"_blank\">",2001,["localization.Traffic.detailedLink",[]],0,"</a></ymaps>"]);
});}],
[';p', function (ym) {
ym.modules.define('traffic.layout.settingsButton.html', ["float-button","traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-float-button ymaps-2-1-74-float-button_icon_only ymaps-2-1-74-float-button_side_right ymaps-2-1-74-float-button_checked_no ymaps-2-1-74-_pin_right\"><ymaps class=\"ymaps-2-1-74-traffic__icon ymaps-2-1-74-traffic__icon_icon_settings ymaps-2-1-74-float-button-icon\"></ymaps></ymaps>"]);
});}],
[';n', function (ym) {
ym.modules.define('traffic.layout.settings.switcher.html', ["traffic","popup","popup__content","popup_theme_ffffff","popup_visibility_visible","popup_visibility_outside","popup__under","popup__under_color_white","popup__under_type_paranja","popup__tail"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-traffic__switcher\"><ymaps class=\"ymaps-2-1-74-traffic__switcher-item ymaps-2-1-74-traffic__switcher-item_data_actual\">",2001,["localization.Traffic.nowHeader",[]],0,"</ymaps><ymaps class=\"ymaps-2-1-74-traffic__switcher-item ymaps-2-1-74-traffic__switcher-item_data_archive\">",2001,["localization.Traffic.statistics",[]],0,"</ymaps></ymaps>"]);
});}],
['(m', function (ym) {
ym.modules.define("theme.islands.traffic.layout.control.PopupError",["templateLayoutFactory","traffic.layout.error.html","layout.storage"],function(o,r,t,a){var e=r.createClass(t);a.add("traffic#controlPopupErrorLayout",e),o(e)});}],
[';V', function (ym) {
ym.modules.define('check', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-check,.ymaps-2-1-74-check__box{color:#000;font-family:Arial,Helvetica,sans-serif;display:inline-block;cursor:pointer}.ymaps-2-1-74-check__box{box-sizing:border-box!important;border-width:1px;border-style:solid;border-radius:3px;background-clip:border-box;vertical-align:middle;text-decoration:none;-webkit-transition:background-color .15s ease-out,border-color .15s ease-out,opacity .15s ease-out;transition:background-color .15s ease-out,border-color .15s ease-out,opacity .15s ease-out;text-align:left;background-color:#fff;border-color:rgba(0,0,0,.2)}a.ymaps-2-1-74-check__box,a.ymaps-2-1-74-check__box:active,a.ymaps-2-1-74-check__box:hover,a.ymaps-2-1-74-check__box:link,a.ymaps-2-1-74-check__box:visited{color:#000!important;text-decoration:none!important}.ymaps-2-1-74-check__box:hover{border-color:rgba(0,0,0,.3)}.ymaps-2-1-74-check__box.ymaps-2-1-74-_pressed,.ymaps-2-1-74-check__box:active{background-color:#f3f1ed}.ymaps-2-1-74-check__box.ymaps-2-1-74-_disabled{cursor:default;background-color:#ebebeb}.ymaps-2-1-74-check{position:relative;padding-left:19px}.ymaps-2-1-74-check.ymaps-2-1-74-_disabled{cursor:default}.ymaps-2-1-74-check__control{position:absolute;left:-2px;top:-2px;opacity:0;z-index:-1}.ymaps-2-1-74-check__box{width:14px;height:14px;padding:0;position:absolute;left:0;font-size:0;line-height:0}.ymaps-2-1-74-check__box:after{content:\'\';position:absolute;left:0;bottom:2px;width:16px;height:16px}.ymaps-2-1-74-check__control:checked+.ymaps-2-1-74-check__box{background-color:#ffeba0}.ymaps-2-1-74-check__control:checked+.ymaps-2-1-74-check__box:after{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTEzLjUxLjQ1TDUuNDcgMTIuNDhsLTMuNzYtNC4yTC42NyA5LjYxbDQuOTMgNS40NUwxNC43MiAxLjZ6Ii8+PC9zdmc+) no-repeat center}.ymaps-2-1-74-check__control:checked+.ymaps-2-1-74-check__box.ymaps-2-1-74-_pressed{background-color:#fee481}.ymaps-2-1-74-check__control:disabled+.ymaps-2-1-74-check__box,.ymaps-2-1-74-check__control:disabled~.ymaps-2-1-74-check__label-text{opacity:.5}.ymaps-2-1-74-check__control:checked:disabled+.ymaps-2-1-74-check__box{background-color:#d9d9d9!important}', provide);
});}],
[';e', function (ym) {
ym.modules.define('traffic.layout.error.html', ["error-message"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-error-message\"><ymaps class=\"ymaps-2-1-74-error-message__msg\"></ymaps></ymaps>"]);
});}],
[';3', function (ym) {
ym.modules.define('error-message', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-error-message{display:table;margin:10px 0;padding:0 10px 0 45px;height:25px;background-position:10px 50%;background-repeat:no-repeat;color:#333;font:13px/1.2 Arial,sans-serif}.ymaps-2-1-74-error-message__msg{display:table-cell;vertical-align:middle}.ymaps-2-1-74-error-message{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSI+PHBhdGggZmlsbD0iI0JFQkVCRSIgZD0iTTEyLjUgMjVhMTIuNSAxMi41IDAgMSAwIDAtMjUgMTIuNSAxMi41IDAgMCAwIDAgMjVzLTYuOSAwIDAgMHoiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMTIuNSAyMi4xMWE5LjUgOS41IDAgMSAwIDAtMTkgOS41IDkuNSAwIDAgMCAwIDE5YzAtLjAxLTUuMi0uMDEgMCAweiIvPjxlbGxpcHNlIGN4PSI4LjUiIGN5PSI5LjkiIGZpbGw9IiNCRUJFQkUiIHJ4PSIxLjUiIHJ5PSIxLjYiLz48ZWxsaXBzZSBjeD0iMTYuNSIgY3k9IjkuOSIgZmlsbD0iI0JFQkVCRSIgcng9IjEuNSIgcnk9IjEuNiIvPjxwYXRoIGZpbGw9IiNCRUJFQkUiIGQ9Ik0xMi41IDE0LjQ4YzMuMDQgMCA1LjUuNiA1LjUgMS40NCAwIC44LTIuNDYgMS40NC01LjUgMS40NFM3IDE2LjcyIDcgMTUuOTJjMC0uODIgMi41LTEuNDIgNS41LTEuNDR6Ii8+PC9zdmc+)}', provide);
});}],
['!K', function (ym) {
ym.modules.define({name:"theme.islands.control.layout.Zoom",key:"islands#zoomLayout",storage:"layout",depends:["templateLayoutFactory","zoom.layout.html","Monitor","domEvent.manager","util.dom.reaction.hover","util.dom.reaction.hold","util.dom.className","util.dom.element","util.dom.style","util.Dragger","util.array","shape.Rectangle","geometry.pixel.Rectangle","layout.component.clientBounds","util.css","control.component.setupMarginManager"],declaration:function(t,e,s,n,i,o,a,u,r,h,l,_,g,c,m,d,p){var f=210,R=150,v=15,z=v/2,B=z,b=R-z,Z=b-B,D=60,P={plusButton:"zoom__plus",minusButton:"zoom__minus",runnerButton:"zoom__runner",scale:"zoom__scale",runnerButtonTransition:d.addPrefix("zoom__runner__transition"),buttonIsPressed:d.addPrefix("_pressed"),buttonIsDisabled:d.addPrefix("_disabled")},M=e.createClass(s,{build:function(){var t=this.getData().state,e=this.getParentElement(),s=this.getData().options.get("position");this._size=t.get("size"),this._offset=s?s.top||s.bottom||0:h.getOffset(e)[1],this._checkState(),this._sizeChanged=this._size!=t.get("size"),this._sizeChanged||(M.superclass.build.call(this),this._setupZoom(),p.add(this,function(){return[28,"large"!=this._size?61:f]},this))},getShape:function(){var t=this.getElement();return t?new g(new c(m(t))):null},_setupZoom:function(){var t=this.getParentElement(),e=this.getData();if(this._plusButton=r.findByPrefixedClass(t,P.plusButton),this._minusButton=r.findByPrefixedClass(t,P.minusButton),this._isPlusEnabled=!0,this._isMinusEnabled=!0,this._zoomReactions=null,this._setupZoomMonitors(),this._setupZoomEvents(),"large"==this._size){this._dragging=!1;var s=this._getZoomRange();this._zoomPoint=Z/(s[1]-s[0]),this._scaleLine=r.findByPrefixedClass(t,P.scale),this._scaleRunner=r.findByPrefixedClass(t,P.runnerButton),u.add(this._scaleRunner,P.runnerButtonTransition),this._setupLargeZoomEvents(),this._setupDragger(),this._setRunnerPositionByZoom(e.state.get("zoom"))}this._setupZoomReactions(),this._applyView()},clear:function(){this._sizeChanged||(this._clearZoomMonitors(),this._clearZoomEvents(),this._clearZoomReactions(),"large"==this._size&&(this._clearLargeZoomEvents(),this._clearDragger()),p.remove(this),M.superclass.clear.call(this))},_setupZoomMonitors:function(){this._stateMonitor=new n(this.getData().state).add("zoom",this._onZoomChange,this).add("zoomRange",this._onZoomRangeChange,this).add("mapHeight",this._checkState,this),this._optionsMonitor=new n(this.getData().options).add("size",this._applyState,this)},_clearZoomMonitors:function(){this._stateMonitor.removeAll(),this._optionsMonitor.removeAll()},_setupZoomEvents:function(){this._plusButtonListener=i.group(this._plusButton).add("click",this._onPlusButtonClick,this),this._minusButtonListener=i.group(this._minusButton).add("click",this._onMinusButtonClick,this)},_clearZoomEvents:function(){this._plusButtonListener.removeAll(),this._minusButtonListener.removeAll()},_onPlusButtonClick:function(){if(this._isPlusEnabled){var t=this.getData().options.get("zoomStep");this._changeZoom(t)}},_onMinusButtonClick:function(){if(this._isMinusEnabled){var t=this.getData().options.get("zoomStep");this._changeZoom(-t)}},_setupZoomReactions:function(){this._zoomReactions={plus:[a.reaction({element:this._plusButton,toggleCssClass:P.buttonIsPressed})],minus:[a.reaction({element:this._minusButton,toggleCssClass:P.buttonIsPressed})]}},_clearZoomReactions:function(){this._disableReactions("plus"),this._disableReactions("minus")},_enableReactions:function(t){_.each(this._zoomReactions[t],function(t){t.enable()})},_disableReactions:function(t){_.each(this._zoomReactions[t],function(t){t.disable()})},_getZoomRange:function(){return this.getData().state.get("zoomRange")||[0,23]},_changeZoom:function(t){var e=this.getData().state,s=e.get("zoom"),n=s+t,i=this._getZoomRange();n=Math.max(i[0],Math.min(i[1],n)),Math.abs(n-s)>.01&&this.events.fire("zoomchange",{newZoom:n})},_checkState:function(){var t=this.getData().state.get("mapHeight"),e=this._offset+f+D;this._applyState(t<e?"small":"large")},_applyState:function(t){var e=this.getData().state,s=this.getData().options.get("size","auto");"auto"==s?"auto"!=t&&e.get("size")!=t&&e.set("size",t):e.set("size",s)},_applyView:function(){var t=this.getData().state,e=t.get("zoomRange"),s=t.get("zoom");this._isPlusEnabled=s<e[1],this._isPlusEnabled?(u.remove(this._plusButton,P.buttonIsDisabled),this._enableReactions("plus")):(u.add(this._plusButton,P.buttonIsDisabled),this._disableReactions("plus")),this._isMinusEnabled=s>e[0],this._isMinusEnabled?(u.remove(this._minusButton,P.buttonIsDisabled),this._enableReactions("minus")):(u.add(this._minusButton,P.buttonIsDisabled),this._disableReactions("minus"))},_setupLargeZoomEvents:function(){this._scaleLineListener=i.group(this._scaleLine).add("click",this._onScaleClick,this),this._scaleRunnerListener=i.group(this._scaleRunner).add("mousedown",this._onScaleRunnerMousedown,this).add("mouseup",this._onScaleRunnerMouseup,this)},_clearLargeZoomEvents:function(){this._scaleLineListener.removeAll(),this._scaleRunnerListener.removeAll()},_setupDragger:function(){this._dragger=new l({autoStartElement:this._scaleRunner}),this._draggerEvents=this._dragger.events.group().add("move",this._onDragMove,this).add("start",this._onDragStart,this).add("stop",this._onDragStop,this)},_clearDragger:function(){this._dragger.stop(),this._draggerEvents.removeAll()},_onZoomRangeChange:function(t){this._zoomPoint=Z/(t[1]-t[0]);var e=this.getData().state;this._dragging||"large"!=e.get("size")||this._setRunnerPositionByZoom(e.get("zoom")),this._applyView()},_onZoomChange:function(t){this._dragging||"large"!=this.getData().state.get("size")||this._setRunnerPositionByZoom(t),this._applyView()},_getOffset:function(t){var e=t.get("position")[1],s=e-h.getOffset(this._scaleLine,!0)[1];return Math.max(B,Math.min(s,b))},_onDragStart:function(){this._dragging=!0,u.remove(this._scaleRunner,P.runnerButtonTransition),this.events.fire("dragstart")},_onDragMove:function(t){var e=this._getOffset(t),s=this._getZoomRange(),n=this.getData().state.get("zoom"),i=(b-e)/this._zoomPoint+s[0];this._setRunnerPositionByOffset(e),this._changeZoom(i-n)},_onDragStop:function(t){this._dragging=!1,u.add(this._scaleRunner,P.runnerButtonTransition),u.remove(this._scaleRunner,P.buttonIsPressed),this.events.fire("dragstop")},_onScaleClick:function(t){var e=this._getOffset(t),s=this._getZoomRange(),n=Math.round((b-e)/this._zoomPoint)+s[0],i=n-this.getData().state.get("zoom");this._changeZoom(i)},_setRunnerPositionByZoom:function(t){var e=this._getZoomRange(),s=b-Math.round((t-e[0])*this._zoomPoint);s=Math.max(B,Math.min(b,s)),this._setRunnerPositionByOffset(s)},_setRunnerPositionByOffset:function(t){h.css(this._scaleRunner,{top:t-z+"px"})},_onScaleRunnerMousedown:function(){u.add(this._scaleRunner,P.buttonIsPressed)},_onScaleRunnerMouseup:function(){u.remove(this._scaleRunner,P.buttonIsPressed)}});t(M)}});}],
[';v', function (ym) {
ym.modules.define('zoom.layout.html', ["zoom","float-button"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-zoom\" ",2009,null,0,"height: ",2003,"data.get(\"state.size\")=='large'",0,"150",2004,null,0,"5",2005,null,0,"px",2010,null,0,"><ymaps class=\"ymaps-2-1-74-zoom__plus ymaps-2-1-74-zoom__button ymaps-2-1-74-float-button\"><ymaps class=\"ymaps-2-1-74-zoom__icon ymaps-2-1-74-float-button-icon\"></ymaps></ymaps><ymaps class=\"ymaps-2-1-74-zoom__minus ymaps-2-1-74-zoom__button ymaps-2-1-74-float-button\"><ymaps class=\"ymaps-2-1-74-zoom__icon ymaps-2-1-74-float-button-icon\"></ymaps></ymaps>",2003,"data.get(\"state.size\")=='large'",0,"<ymaps class=\"ymaps-2-1-74-zoom__scale\"><ymaps class=\"ymaps-2-1-74-zoom__runner ymaps-2-1-74-zoom__button ymaps-2-1-74-float-button\"><ymaps class=\"ymaps-2-1-74-zoom__icon ymaps-2-1-74-float-button-icon ymaps-2-1-74-float-button-icon_icon_runner\"></ymaps></ymaps></ymaps>",2005,null,0,"</ymaps>"]);
});}],
['@v', function (ym) {
ym.modules.define('zoom', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-zoom{position:relative;display:block;padding:28px 0;width:28px;height:10px}.ymaps-2-1-74-zoom__button{position:absolute!important}.ymaps-2-1-74-zoom__plus{top:0}.ymaps-2-1-74-zoom__minus{bottom:0}.ymaps-2-1-74-zoom__scale{position:absolute;top:28px;bottom:28px;left:11px;width:4px;border-right:1px solid rgba(0,0,0,.2);border-left:1px solid rgba(0,0,0,.2);background:rgba(255,255,255,.4);box-shadow:1px 0 0 0 rgba(0,0,0,.15),-1px 0 0 0 rgba(0,0,0,.15)}.ymaps-2-1-74-zoom__runner{position:absolute;left:-12px;width:28px;height:15px!important;line-height:15px!important}.ymaps-2-1-74-zoom__runner__transition{-webkit-transition:top .3s;transition:top .3s}.ymaps-2-1-74-zoom .ymaps-2-1-74-float-button-icon_icon_runner{display:block;height:13px}.ymaps-2-1-74-zoom__runner .ymaps-2-1-74-zoom__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSI1Ij48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiM2NjYiIGQ9Ik0wIDBoMXYxSDB6bTMgMGgxdjFIM3ptMyAwaDF2MUg2em0zIDBoMXYxSDl6TTAgM2gxdjFIMHptMyAwaDF2MUgzem0zIDBoMXYxSDZ6bTMgMGgxdjFIOXptMCAwIi8+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuNzUiIGQ9Ik0wIDFoMXYxSDB6bTMgMGgxdjFIM3ptMyAwaDF2MUg2em0zIDBoMXYxSDl6TTAgNGgxdjFIMHptMyAwaDF2MUgzem0zIDBoMXYxSDZ6bTMgMGgxdjFIOXptMCAwIi8+PC9nPjwvc3ZnPg==);background-repeat:no-repeat;background-position:center 5px;border-top:0;border-bottom:0}.ymaps-2-1-74-zoom__minus .ymaps-2-1-74-zoom__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiI+PHBhdGggZmlsbD0iIzY2NiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiAxMWgxNHY0SDZ6Ii8+PC9zdmc+)}.ymaps-2-1-74-zoom__plus .ymaps-2-1-74-zoom__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiI+PHBhdGggZmlsbD0iIzY2NiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTEgMTVINnYtNGg1VjZoNHY1aDV2NGgtNXY1aC00di01em0wIDAiLz48L3N2Zz4=)}', provide);
});}],
['!G', function (ym) {
ym.modules.define({name:"theme.islands.control.layout.Ruler",key:"islands#rulerLayout",storage:"layout",depends:["templateLayoutFactory","layout.storage","layout.component.clientBounds","theme.islands.control.layout.ScaleLine","theme.islands.control.layout.Button","shape.Rectangle","geometry.pixel.Rectangle","domEvent.manager","control.component.setupMarginManager","util.dom.style","util.dom.element","system.browser"],declaration:function(e,t,l,n,s,i,a,o,r,u,c,y,d){var m=t.createClass("<ymaps {% style %}display: block;{% endstyle %}>{% if options.scaleLine == true %}<ymaps {% style %}display: inline-block; height: 100%; vertical-align: top;{% endstyle %}>{% include islands#scaleLine %}</ymaps><ymaps {% style %}display: inline-block; width: 10px; height: 0{% endstyle %}></ymaps>{% endif %}<ymaps {% style %}display: inline-block;{% endstyle %}>{% include islands#buttonLayout %}</ymaps></ymaps>",{build:function(){m.superclass.build.call(this),u.add(this,function(){return[125,28]},this);var e=y.findByPrefixedClass(this.getElement(),"float-button");this._layoutElementListeners=r.group(e).add("click",this._onButtonClick,this),d.isIE&&parseInt(d.version,10)<11&&c.css(e,{top:"3px"})},clear:function(){u.remove(this),this._layoutElementListeners.removeAll(),m.superclass.clear.call(this)},getShape:function(){var e=this.getElement();return e&&e.firstChild?new a(new o(n(e.firstChild))):null},_onButtonClick:function(){this.events.fire("rulerbuttonclick")}});e(m)}});}],
['!H', function (ym) {
ym.modules.define("theme.islands.control.layout.ScaleLine",["templateLayoutFactory","scaleline.layout.html","layout.storage","layout.component.clientBounds","util.dom.element","formatter","shape.Rectangle","geometry.pixel.Rectangle","domEvent.manager"],function(t,e,i,a,s,n,l,o,c,r){var d=l.distance,h=e.createClass(i,{init:function(){this.update()},build:function(){h.superclass.build.call(this),this.listeners=this.getMap().events.group().add("actionend",this.update,this).add("typechange",this.update,this),this._scaleLineNode=n.findByPrefixedClass(this.getElement(),"scaleline")},clear:function(){this.listeners.removeAll(),h.superclass.clear.call(this)},getShape:function(){var t=this.getElement();return t&&this._scaleLineNode?new o(new c(s(t,this._scaleLineNode))):null},MIN_WIDTH:75,getMap:function(){return this.getData().control.getMap()},update:function(){var t=this._pixelsToDist(this.MIN_WIDTH),e=parseFloat(l.toSignificantDigits(t,1)),i=Math.abs(t)>1e-7?e*this.MIN_WIDTH/t:this.MIN_WIDTH;this.getData().data.set({distance:d(e,1),width:Math.round(i)+"px"})},_pixelsToDist:function(t){var e=this.getMap(),i=e.options.get("projection"),a=i.toGlobalPixels(e.getCenter(),e.getZoom()),s=i.fromGlobalPixels([a[0]-t/2,a[1]],e.getZoom()),n=i.fromGlobalPixels([a[0]+t/2,a[1]],e.getZoom());return i.getCoordSystem().getDistance(s,n)}});a.add("islands#scaleLine",h),t(h)});}],
[':j', function (ym) {
ym.modules.define('scaleline.layout.html', ["scaleline"], function (provide) {
provide([0,"<ymaps class=\"ymaps-2-1-74-scaleline\" ",2009,null,0,"width: ",2001,["data.width",[["raw",null]]],0,"; min-width: 59px",2010,null,0,"><ymaps class=\"ymaps-2-1-74-scaleline__left\"><ymaps class=\"ymaps-2-1-74-scaleline__left-border\"></ymaps><ymaps class=\"ymaps-2-1-74-scaleline__left-line\"></ymaps></ymaps><ymaps class=\"ymaps-2-1-74-scaleline__center\"><ymaps class=\"ymaps-2-1-74-scaleline__label\">",2001,["data.distance",[["raw",null]]],0,"</ymaps></ymaps><ymaps class=\"ymaps-2-1-74-scaleline__right\"><ymaps class=\"ymaps-2-1-74-scaleline__right-border\"></ymaps><ymaps class=\"ymaps-2-1-74-scaleline__right-line\"></ymaps></ymaps></ymaps>"]);
});}],
['@g', function (ym) {
ym.modules.define('scaleline', ["system.provideCss"], function (provide, systemProvideCss) {
systemProvideCss('.ymaps-2-1-74-scaleline{position:relative;display:inline-block;overflow:visible;text-align:center;top:13px}.ymaps-2-1-74-scaleline__label{position:relative;top:-6px;display:block;padding:0 4px;vertical-align:middle;white-space:nowrap;color:#333;border-radius:3px;font:11px/15px Verdana,Arial,sans-serif;background:rgba(255,255,255,.75)}.ymaps-2-1-74-scaleline__left,.ymaps-2-1-74-scaleline__right{display:table-cell;width:49%;vertical-align:top}.ymaps-2-1-74-scaleline__left-line,.ymaps-2-1-74-scaleline__right-line{display:block;height:1px;border-top:1px solid #fff;border-bottom:1px solid #fff;background:#000}.ymaps-2-1-74-scaleline__center{display:table-cell;height:1px}.ymaps-2-1-74-scaleline__left-border,.ymaps-2-1-74-scaleline__right-border{position:absolute;z-index:-1;top:-4px;width:1px;height:9px;border:1px solid #fff;background:#000}.ymaps-2-1-74-scaleline__left-border{left:-2px}.ymaps-2-1-74-scaleline__right-border{right:-2px}', provide);
});}]
]
);